(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){e.exports=t(60)},37:function(e,a,t){},38:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(23),c=t.n(r),s=t(27),m=t(1),o=(t(37),t(38),t(39),t(40),t(2)),i=t(62),u=t(61),d=t(63),p=t(64),g=t(12),E=t.n(g),f=t(15),h="El nombre es requerido",b="El apellido es requerido",O="El correo es requerido",v="El celular es requerido",N="La foto es requerida",j="Un correo v\xe1lido es requerido",x="Solo se permiten letras y/o espacios",C="Solo se permiten letras y/o n\xfameros",S=function(e){var a=Object(l.useState)(""),t=Object(o.a)(a,2),r=t[0],c=t[1],s=Object(l.useState)(""),m=Object(o.a)(s,2),i=m[0],d=m[1];Object(l.useEffect)(function(){var a=p(r);e.handleOnChangeValidation&&e.handleOnChangeValidation({field:e.controlName,result:a,message:i,value:r})},[r]);var p=function(){return d(""),!(!r||!1===/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(r))||(d(j),!1)};return n.a.createElement("label",null,n.a.createElement("p",null,e.label),n.a.createElement("input",{className:"sapri-input",maxLength:e.maxLength,type:"email",name:e.controlName,placeholder:e.placeholderText,onChange:function(e){c(e.target.value)}}),n.a.createElement(u.a,null,n.a.createElement("span",{className:"text-danger"},i)))},w=function(e){var a=Object(l.useState)(""),t=Object(o.a)(a,2),r=t[0],c=t[1],s=Object(l.useState)(""),m=Object(o.a)(s,2),i=m[0],d=m[1];Object(l.useEffect)(function(){var a=p(r);e.handleOnChangeValidation&&e.handleOnChangeValidation({field:e.controlName,result:a,message:i,value:r})},[r]);var p=function(e){d("");var a=/^[A-Za-z0-9]*$/.test(e);return a||d(C),a};return n.a.createElement("label",null,n.a.createElement("p",null,e.label),n.a.createElement("input",{maxLength:e.maxLength,className:"sapri-input",type:"text",name:e.controlName,placeholder:e.placeholderText,value:r,onChange:function(e){c(e.target.value)}}),n.a.createElement(u.a,null,n.a.createElement("span",{className:"text-danger"},i)))},L=function(e){var a=Object(l.useState)(""),t=Object(o.a)(a,2),r=t[0],c=t[1],s=Object(l.useState)(""),m=Object(o.a)(s,2),i=m[0],d=m[1];Object(l.useEffect)(function(){var a=p(r);e.handleOnChangeValidation&&e.handleOnChangeValidation({field:e.controlName,result:a,message:i,value:r})},[r]);var p=function(e){d("");var a=/^[A-Za-z\s]*$/.test(e);return a||d(x),a};return n.a.createElement("label",null,n.a.createElement("p",null,e.label),n.a.createElement("input",{className:"sapri-input",type:"text",maxLength:e.maxLength,name:e.controlName,placeholder:e.placeholderText,value:r,onChange:function(e){c(e.target.value)}}),n.a.createElement(u.a,null,n.a.createElement("span",{className:"text-danger"},i)))};function T(e){var a=Object(l.useState)(null),t=Object(o.a)(a,2),r=(t[0],t[1]),c=Object(l.useState)(""),s=Object(o.a)(c,2),m=s[0],i=s[1],u=Object(l.useRef)(null);return n.a.createElement("label",{className:"ImageUploaderInput"},n.a.createElement("div",{className:"sapri-button",onClick:function(e){e.preventDefault(),u.current.click()}},"Cargar Imagen"),n.a.createElement("p",{className:"inputFileSubLabel"},m),n.a.createElement("input",{type:"file",ref:u,className:"sapri-file-input",id:"file",name:"file",accept:"image/png, image/gif, image/jpeg",onChange:function(a){r(a.target.files[0]);var t=a.target.files[0],l=new FileReader;l.onload=function(e){i("Listo, cargamos tu foto")},l.readAsText(t),e.handleOnChangeValidation&&e.handleOnChangeValidation({field:e.controlName,result:!0,message:"",value:a.target.files[0]})}}))}var P=function(e){var a=Object(l.useState)(!0),t=Object(o.a)(a,2),r=t[0],c=t[1],s=Object(l.useState)(""),m=Object(o.a)(s,2),g=m[0],j=m[1],x=Object(l.useState)(!0),C=Object(o.a)(x,2),P=C[0],V=C[1],k=Object(l.useState)(!1),y=Object(o.a)(k,2),F=y[0],I=y[1],R=Object(l.useState)(""),q=Object(o.a)(R,2),A=q[0],D=q[1],B=Object(l.useRef)(),J={name:{state:!1,message:h,value:""},lastName:{state:!1,message:b,value:""},cedula:{state:!1,message:v,value:""},email:{state:!1,message:O,value:""},profilePic:{state:!1,message:N,value:""}},U=function(){var e=new FormData;e.append("profilePic",J.profilePic.value),e.append("name",J.name.value),e.append("lastName",J.lastName.value),e.append("email",J.email.value),e.append("cedula",J.cedula.value),D(J.email.value),I(!0),fetch("https://lossaprissa.com/backend/formProcess.php",{method:"POST",body:e}).then(function(e){return e.text()}).then(function(e){try{var a=JSON.parse(e),t=a.result.resultCode;if("0"!==t)switch(I(!1),t){case"11":E.a.fire({title:"\xa1Espere!",text:"Parece que ya est\xe1s registrado.",icon:"info",confirmButtonText:"Ok"}),V(!0),c(!1),j(a.result.registro.ImagenCedula);break;case"10":E.a.fire({title:"\xa1Espere!",text:"Ocurri\xf3 un problema al generar tu c\xe9dula",icon:"error",confirmButtonText:"Ok"})}else V(!0),c(!1),j(a.result.registro.ImagenCedula)}catch(l){}}).catch(function(e){console.log("error",e)})},$=function(e){var a=e.field,t=e.result,l=e.message,n=e.value,r=J[a];r&&(r.result=t,r.message=l,r.value=n)};return n.a.createElement(i.a,{fluid:!0,className:"sapri-container centered"},n.a.createElement(u.a,null,n.a.createElement(d.a,{md:"5",className:"text-center"},n.a.createElement("img",{className:"mainLogoImage",src:"/images/img87.png",alt:""})),r&&n.a.createElement(d.a,{md:"7"},n.a.createElement("form",{id:"form",method:"post",onSubmit:function(e){e.preventDefault(),function(){for(var e=!1,a=0,t=Object.entries(J);a<t.length;a++){var l=t[a],n=Object(o.a)(l,2);n[0],n[1].result||(e=e||!0)}return e}()?E.a.fire({title:"\xa1Espere!",text:"Falta que completes tu informaci\xf3n",icon:"warning",confirmButtonText:"Ok"}):U()}},n.a.createElement(u.a,null,n.a.createElement(d.a,{md:"6"},n.a.createElement(L,{label:"Nombre:",controlName:"name",placeholderText:"",maxLength:100,handleOnChangeValidation:$})),n.a.createElement(d.a,{md:"6"},n.a.createElement(L,{label:"Apellido:",controlName:"lastName",placeholderText:"",maxLength:100,handleOnChangeValidation:$}))),n.a.createElement(u.a,{className:"sub-title"},n.a.createElement("p",null,'Tu Apellido Cambiara por "Saprissa"')),n.a.createElement(u.a,null,n.a.createElement(d.a,{md:"8"},n.a.createElement(S,{label:"Correo Electr\xf3nico:",controlName:"email",placeholderText:"",maxLength:500,handleOnChangeValidation:$})),n.a.createElement(d.a,{md:"4"},n.a.createElement(w,{label:"Cedula:",controlName:"cedula",placeholderText:"",maxLength:20,handleOnChangeValidation:$}))),n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"text-center"},n.a.createElement(T,{controlName:"profilePic",handleOnChangeValidation:$}))),n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"text-center"},F?n.a.createElement(n.a.Fragment,null):n.a.createElement("label",null,n.a.createElement(p.a,{className:"sapri-button",type:"submit"},"CREAR IDENTIFICACION")),n.a.createElement(f.a,{loading:F,color:"#FF7626"}))))),!r&&n.a.createElement(d.a,{md:"7"},n.a.createElement("div",{className:"sapri-cedula-container-col"},n.a.createElement(u.a,null,n.a.createElement("p",null,"Oficialmente Sos Parte de La Familia..."),n.a.createElement("p",null,n.a.createElement("small",null,"\xa1Compartila En Tus Redes Y Etiquetanos Para Verla!"))),P?n.a.createElement(u.a,{className:"sapri-cedula-image-loading"},n.a.createElement(f.b,{className:"line-loader",loading:P,color:"#FF7626",width:"300"})):n.a.createElement(n.a.Fragment,null),n.a.createElement(u.a,{className:"sapri-cedula-image"},n.a.createElement("a",{href:"/cedula?email="+A},n.a.createElement("img",{ref:B,src:g,onLoad:function(){V(!1)},alt:""}))),n.a.createElement(u.a,null,n.a.createElement("a",{className:"button sapri-button",href:"/cedula?email="+A},"Descargar")),n.a.createElement(u.a,null,n.a.createElement("button",{className:"sapri-button",onClick:function(e){j(""),c(!0)}},"Crear Otra"))))),n.a.createElement(u.a,{className:"logoPatro-Row"},n.a.createElement(d.a,null,n.a.createElement("a",{href:"https://lossaprissa.com"},n.a.createElement("img",{className:"logoPatro",src:"/images/logopatro.jpg",alt:""})))))},V=(t(25),t(26));var k=function(e){var a=Object(l.useState)(""),t=Object(o.a)(a,2),r=t[0],c=t[1],s=Object(l.useState)(!0),m=Object(o.a)(s,2),p=(m[0],m[1]),g=Object(l.useState)(""),E=Object(o.a)(g,2),f=E[0],h=E[1];Object(l.useEffect)(function(){var e=window.location.search,a=new URLSearchParams(e);c(a.get("email")),b()});var b=function(){var e=new FormData;e.append("email",r),p(!0),fetch("https://lossaprissa.com/backend/getRecord.php",{method:"POST",body:e}).then(function(e){return e.text()}).then(function(e){try{var a=JSON.parse(e);h(a.result.registro.ImagenCedula)}catch(t){console.log("error",t)}}).catch(function(e){console.log("error",e)})};return n.a.createElement(i.a,{className:"centered"},n.a.createElement(u.a,null,n.a.createElement(d.a,{md:"6",class:"sapri-detail-image"},n.a.createElement("img",{className:"cedula",onClick:function(){Object(V.saveAs)(f,"image.jpg")},src:f,alt:""})),n.a.createElement(d.a,{md:"6",class:"sapri-detail-image"},n.a.createElement("img",{className:"cedula",src:"/images/cedulaatras.jpg",alt:""}))),n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"text-center sapri-container-p"},n.a.createElement("p",null,"Dale click a tu c\xe9dula para descargarla"))),n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"text-center"},n.a.createElement("a",{href:"https://lossaprissa.com",className:"btn sapri-button"},"Regresar al inicio"))),n.a.createElement(u.a,{className:"logoPatro-Row"},n.a.createElement(d.a,null,n.a.createElement("a",{href:"https://lossaprissa.com"},n.a.createElement("img",{className:"logoPatro",src:"/images/logopatro.jpg",alt:""})))))};function y(){return n.a.createElement(s.a,null,n.a.createElement(m.c,null,n.a.createElement(m.a,{index:!0,element:n.a.createElement(P,null)}),n.a.createElement(m.a,{path:"cedula",element:n.a.createElement(k,null)})))}t.d(a,"default",function(){return y}),c.a.createRoot(document.getElementById("root")).render(n.a.createElement(y,null))}},[[28,1,2]]]);
//# sourceMappingURL=main.2a37b0d6.chunk.js.map